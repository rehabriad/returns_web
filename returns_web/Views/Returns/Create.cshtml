@model returns_web.Models.Returns

@{
    ViewBag.Title = "Create";
   

    }
@Html.Partial("_CreateOrEdit",Model)

@section Scripts {
    @Scripts.Render("~/bundles/jqueryval")
    <script type="text/javascript">
        var rowCount = $(".retSaleRow").length;
        var prowCount = $(".retPurchRow").length;
        $(document).ready(function() {

            $("#retSaleAdd").on("click", function() {
                $.get('@Url.Action("AddRetSale", "returns")', { rowCount: rowCount }, function(data) {
                    $("#retSaleTbl").append(data);
                    rowCount++;
                });
            });
            $("#retPurchAdd").on("click", function() {

                $.get('@Url.Action("AddPurchSale", "returns")', { prowCount: prowCount }, function(data) {
                    $("#retPurchTbl").append(data);
                    prowCount++;
                });
            });

            //var validationSettings = $.data($('#taxyrmo').get(0), 'validator').settings;
            //validationSettings.ignore = '.ignore';

            $("#taxyrmo").datepicker({
                changeMonth: true,
                changeYear: true,
                showButtonPanel: true,
                dateFormat: 'MM yy',
                onClose: function(dateText, inst) {
                    var month = $("#ui-datepicker-div .ui-datepicker-month :selected").val();
                    var year = $("#ui-datepicker-div .ui-datepicker-year :selected").val();
                    var date = new Date(year, month, 1);
                    console.log(date);
                    $("#taxyrmo").datepicker('setDate', date);

                },
                beforeShow: function(input, inst) {
                    setTimeout(function() {
                        inst.dpDiv.css({
                            top: 100,
                            left: 600
                        });
                    }, 0);
                }
            });

        });
    </script>
}